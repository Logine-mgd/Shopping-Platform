<h2 class="text-3xl font-bold m-3 pl-5">Your Shopping Cart</h2>
<div class="flex flex-col justify-center items-center mt-20 mb-10">
    <div class="container flex flex-wrap mx-auto p-4 w-[90%]">
      @for (product of cart.products; track $index) {
        <div class="product-card lg:w-1/4 sm:w-1/2 gap-2 p-4 group">
          <div class="flex flex-col justify-center items-center">
            <img [src]="product.product.imageCover" alt="Product image" class="w-40 h-40 object-contain mb-3" />

            <p class="p-2 text-center font-medium">{{ product.product.title }}</p>
            <p class="text-main">Price: {{ product.price }}</p>
            <p>Quantity: {{ product.count }}</p>

            <div class="flex flex-row items-center mt-2">
              <button
                class="bg-main text-white w-6 h-6 rounded-full flex items-center justify-center hover:bg-green-600 mr-2"
                (click)="updatecount(product.product._id, (product.count - 1).toString())">-</button>

              <button
                class="bg-main text-white w-6 h-6 rounded-full flex items-center justify-center hover:bg-green-600 ml-2"
                (click)="updatecount(product.product._id, (product.count + 1).toString())">+</button>
            </div>

            <button
              class="bg-red-500 text-white px-3 py-1 mt-3 rounded hover:bg-red-600"
              (click)="removeitem(product.product._id)">
              Remove Item
            </button>
          </div>
        </div>
      }
    </div>

    <div class="flex justify-between items-center w-[90%] mx-auto mt-6">
      <p class="font-semibold text-lg">Total Price: {{ cart.totalCartPrice }}</p>
      <div class="flex gap-3">
        <button class="bg-gray-400 text-white px-4 py-2 rounded" (click)="clearcart()">Clear Cart</button>
        <button class="bg-main text-white px-4 py-2 rounded" (click)="choosepayment()">Proceed To Checkout</button>
      </div>
    </div>

</div>
