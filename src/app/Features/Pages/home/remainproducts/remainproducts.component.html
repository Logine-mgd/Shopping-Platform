<div class="container flex flex-wrap mx-auto p-4 w-[90%]">
    @for (product of products;track $index)
    {<div class="product-card lg:w-1/6 sm:w-1/3 gap-2 p-4 group">
        
        <a [routerLink]="['/productdetails', product._id]">
            <img class="w-100" [src]="product.imageCover" />
            <div class="p-2">
                <p class="text-main line-clamp-1">{{ product.category.name }}</p>
                <h2 class="text-xl line-clamp-1">{{ product.title }}</h2>
            </div>

            <div class="flex justify-between items-center p-2">
                <span>{{ product.price }} EGP</span>
                <div>
                    <fa-icon class="text-yellow-400 pr-1" [icon]="icons.faStar"></fa-icon>
                    <span>{{ product.ratingsAverage }}</span>
                </div>
            </div>
        </a>

        <p-toast></p-toast>

        <button class="bg-main text-white w-full p-2 rounded opacity-0 group-hover:opacity-100"
            (click)="add2Cart(product._id)">
            Add to Cart
        </button>

        <button class="bg-main text-white w-full p-2 rounded opacity-0 group-hover:opacity-100 mt-2"
            (click)="add2WishList(product._id)">
            Add to WishList
        </button>
    </div>}
</div>